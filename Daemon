精灵进程

	精灵进程是生存期长的一种进程，也可叫守护进程。

	查看系统运行的指令   ps命令，
	列举出： 
		syslogd精灵进程可用于任何为操作人员记录系统消息的程序中。
		sendmail是标准邮递精灵进程。
		update程序定期将内核缓存中的内容写到硬盘上。
		cron精灵进程在指定的日期和时间执行指定的命令。


	
	编成规则
		在编写精灵进程程序时需遵循一些基本规则。
		（1）首先做的是调用fork，然后使父进程exit.
		（2）调用setsid以创建一个新对话期。
		（3）将当前工作目录更改为根目录。
		（4）将文件方式创建屏蔽字设置为0。
		（5）关闭不再需要的文件描述符。



	出错记录
		与精灵进程有关的一个问题是如何处理出错消息。 因为精灵进程的特殊性，所有需要有一个集中的精灵进程出错记录设施。


	  SVR4流log驱动程序
		SVR4提供了一种流设备驱动程序，其界面具有流出错记录，流事件跟踪以及控制台记录功能。
		有三个记录进程（logger）:出错记录进程、跟踪记录进程以及控制台记录进程。
		
	  4.3+BSD syslog设施
		有三种方法产生记录消息：内核例程可以调用log函数。 大多数用户进程（精灵进程）调用syslog函数以产生记录消息。
					在此主机上，通过TCP/IP网络连接到主机的某一其他主机上的一个用户进程可将记录消息发向UDP端口514。

				
